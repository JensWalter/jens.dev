<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>building an API on top of another page &middot; </title>
        <meta name="description" content="In my last post &ldquo;the serverless API&rdquo; I explained how an API could be build without any infrastructure to begin with. To prove my point I started building an API on top of an existing homepage.
Mintos is a service I use for investing into p2p loans. If you want further information about Mintos head over to their FAQ section.
overview
what data does it expose
Since the export of data from Mintos is somewhat limited, I settled for what I could get without putting too much effort in it.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.80.0" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="building an API on top of another page">
<meta property="og:description" content="In my last post &ldquo;the serverless API&rdquo; I explained how an API could be build without any infrastructure to begin with. To prove my point I started building an API on top of an existing homepage.
Mintos is a service I use for investing into p2p loans. If you want further information about Mintos head over to their FAQ section.
overview
what data does it expose
Since the export of data from Mintos is somewhat limited, I settled for what I could get without putting too much effort in it.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jens.dev/2015/12/21/building-an-api-on-top-of-another-page.html">
        <link rel="stylesheet" href="https://jens.dev/dist/site.css">
        <link rel="stylesheet" href="https://jens.dev/dist/syntax.css">
        <link rel="icon" type="image/png" href="/favicon.png">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
        

    </head>
    <body>
        
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-5676095-8', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>


        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a href="https://jens.dev/">My personal blog</a>
                            </h1>
                        
                        
                            <a class="button-square" href="https://jens.dev/index.xml" aria-label="RSS"><i class="fa fa-rss" aria-hidden="true"></i></a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" aria-label="Twitter" href="https://twitter.com/jens_walter" rel="me" >
                                <i class="fa fa-twitter" aria-hidden="true"></i>
                            </a>
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" aria-label="Github" href="https://github.com/JensWalter" rel="me">
                                <i class="fa fa-github-alt" aria-hidden="true"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" aria-label="Stack Overflow" href="https://stackoverflow.com/users/story/220219" rel="me">
                                <i class="fa fa-stack-overflow" aria-hidden="true"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" aria-label="Send an Email" href="mailto:jens@apimeister.com">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a href="/">Blog</a>
    </li>

    <li class="site-nav-item">
        <a href="/project.html">Projects</a>
    </li>


                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">building an API on top of another page</h1>
    
    <p class="post-date post-line">
        <span>Published <time datetime="2015-12-21" itemprop="datePublished">Mon, Dec 21, 2015</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author"></a>
            </span>
        </span>
    </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <p>In my last post <a href="/2015/12/16/the-serverless-api.html" title="the serverless API">&ldquo;the serverless API&rdquo;</a> I explained how an API could be build without any infrastructure to begin with.
To prove my point I started building an API on top of an existing homepage.</p>
<p>Mintos is a service I use for investing into p2p loans. If you want further information about Mintos head over to their <a href="https://www.mintos.com/en/faq/">FAQ section</a>.</p>
<p><strong>overview</strong></p>
<p><img src="/assets/mintosAPI-serverless.png" alt="mintos API"></p>
<p><strong>what data does it expose</strong></p>
<p>Since the export of data from Mintos is somewhat limited, I settled for what I could get without putting too much effort in it.
So there is:</p>
<ul>
<li>primary market data (currently open loan to bid on)</li>
<li>secondary market data (existing loans offered for trading)</li>
<li>the loan book (complete history of loans)</li>
</ul>
<p><strong>step 1 - fetch</strong></p>
<p>Fetching data from a remote site is nothing to complicated. I implemented a lambda function which got called 3 times a day which just downloads the current Mintos Excel export to Amazon S3.</p>
<p><strong>step 2 - extract loan data</strong></p>
<p>Since Amazon Lambda functions a rather flexible I attached a java function to my S3 store which had the ability to parse the Excel sheet and exports single entry Items, which I than enter into DynamoDB.
So far I only translate every value into a DynamoDB key/value-pair.</p>
<p><strong>step 3 - define an API structure</strong></p>
<p>Amazon uses JSON-schema as a basis for their API structure. So I now had to define a structure based on the exported data in link that to the corresponding API implementation.</p>
<p><strong>step 4 - implement API Lambda for data retrieval</strong></p>
<p>Implement a short nodejs program which glues the internal DynamoDB to the public API schema.</p>
<p><strong>further notes</strong></p>
<p>So far I didn&rsquo;t find any method on how to expose any documentation for the API. Although this shouldn&rsquo;t be that hard (especially since the implementation is already shema-based), Amazon does seem to have a default way to do this.</p>
<p>The API so far is rather slow, since I&rsquo;m keeping the IO-quotas low. This is intentional, since this is only a POC (rather low cost in my terms means, under 1 Euro a month hosting).</p>

</div>

        <footer class="post-footer clearfix">
        <p class="post-tags">
            <span>Tagged:</span>
                <a href="/tags/api101.html">api101</a>, 
                <a href="/tags/mintosapi.html">mintosAPI</a>
        </p>
    <div class="share">
    </div>
</footer>

        
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a href="https://jens.dev/">My personal blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2021 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://jens.dev/js/jquery-1.11.3.min.js"></script>
        <script src="https://jens.dev/js/jquery.fitvids.js"></script>
        <script src="https://jens.dev/js/scripts.js"></script>
    </body>
</html>

