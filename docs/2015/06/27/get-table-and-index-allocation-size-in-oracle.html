<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>get table and index allocation size in oracle &middot; </title>
        <meta name="description" content="[part 2 -&gt; now with partitioned tables]({% post_url 2016-06-21-get-oracle-allocation-sizes-part-2 %})
Determining the size of a table can be a bit tricky within oracle. You can size all columns and add the values together. That woul give you an estimate of a row size. If you do that for all rows, you got the net size of data you are storing. This of cause does not account for index and table overhead.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.80.0" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="get table and index allocation size in oracle">
<meta property="og:description" content="[part 2 -&gt; now with partitioned tables]({% post_url 2016-06-21-get-oracle-allocation-sizes-part-2 %})
Determining the size of a table can be a bit tricky within oracle. You can size all columns and add the values together. That woul give you an estimate of a row size. If you do that for all rows, you got the net size of data you are storing. This of cause does not account for index and table overhead.">
<meta property="og:type" content="article">
<meta property="og:url" content="/2015/06/27/get-table-and-index-allocation-size-in-oracle.html">
        <link rel="stylesheet" href="/dist/site.css">
        <link rel="stylesheet" href="/dist/syntax.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
        

    </head>
    <body>
        
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-5676095-8', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>


        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a href="/">My personal blog</a>
                            </h1>
                        
                        
                            <a class="button-square" href="/index.xml" aria-label="RSS"><i class="fa fa-rss" aria-hidden="true"></i></a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" aria-label="Twitter" href="https://twitter.com/jens_walter" rel="me" >
                                <i class="fa fa-twitter" aria-hidden="true"></i>
                            </a>
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" aria-label="Github" href="https://github.com/JensWalter" rel="me">
                                <i class="fa fa-github-alt" aria-hidden="true"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" aria-label="Stack Overflow" href="https://stackoverflow.com/users/story/220219" rel="me">
                                <i class="fa fa-stack-overflow" aria-hidden="true"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" aria-label="Send an Email" href="mailto:jens@apimeister.com">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a href="/">Blog</a>
    </li>

    <li class="site-nav-item">
        <a href="/project/">Projects</a>
    </li>


                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">get table and index allocation size in oracle</h1>
    
    <p class="post-date post-line">
        <span>Published <time datetime="2015-06-27" itemprop="datePublished">Sat, Jun 27, 2015</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author"></a>
            </span>
        </span>
    </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <p>[part 2 -&gt; now with partitioned tables]({% post_url 2016-06-21-get-oracle-allocation-sizes-part-2 %})</p>
<p>Determining the size of a table can be a bit tricky within oracle.
You can size all columns and add the values together. That woul give you an estimate of a row size. If you do that for all rows, you got the net size of data you are storing. This of cause does not account for index and table overhead.
To get more realisitc view of the storage requirments, you can query the size, which oracle has allocated for your user objects. Even this is an estimate, since it does not account for fragmentation or other side effect. But you can see what is actually allocated within the tablespace.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a8c8">SELECT</span> <span style="color:#111">segment_name</span> <span style="color:#00a8c8">table_name</span><span style="color:#111">,</span> <span style="color:#00a8c8">sum</span><span style="color:#111">(</span><span style="color:#111">bytes</span><span style="color:#111">)</span> <span style="color:#111">tablesize</span><span style="color:#111">,</span>
  <span style="color:#111">(</span><span style="color:#00a8c8">SELECT</span> <span style="color:#00a8c8">sum</span><span style="color:#111">(</span><span style="color:#111">bytes</span><span style="color:#111">)</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">user_segments</span> <span style="color:#111">ind</span>
    <span style="color:#00a8c8">WHERE</span> <span style="color:#111">segment_name</span> <span style="color:#00a8c8">in</span>
      <span style="color:#111">(</span><span style="color:#00a8c8">select</span> <span style="color:#111">index_name</span> <span style="color:#00a8c8">from</span> <span style="color:#111">user_indexes</span>
        <span style="color:#00a8c8">where</span> <span style="color:#00a8c8">table_name</span><span style="color:#f92672">=</span><span style="color:#111">tab</span><span style="color:#111">.</span><span style="color:#111">segment_name</span><span style="color:#111">)</span>
  <span style="color:#111">)</span> <span style="color:#111">indexsize</span>
<span style="color:#00a8c8">FROM</span> <span style="color:#111">user_segments</span> <span style="color:#111">tab</span>
<span style="color:#00a8c8">WHERE</span> <span style="color:#111">segment_type</span><span style="color:#f92672">=</span><span style="color:#d88200">&#39;TABLE&#39;</span>
<span style="color:#00a8c8">group</span> <span style="color:#00a8c8">by</span> <span style="color:#111">(</span><span style="color:#111">segment_name</span><span style="color:#111">)</span>
<span style="color:#00a8c8">order</span> <span style="color:#00a8c8">by</span> <span style="color:#111">segment_name</span><span style="color:#111">;</span>
</code></pre></div><table>
<thead>
<tr>
<th>TABLE_NAME</th>
<th style="text-align:right">TABLESIZE</th>
<th style="text-align:right">INDEXSIZE</th>
</tr>
</thead>
<tbody>
<tr>
<td>DEPT</td>
<td style="text-align:right">65536</td>
<td style="text-align:right">65536</td>
</tr>
<tr>
<td>EMP</td>
<td style="text-align:right">65536</td>
<td style="text-align:right">65536</td>
</tr>
<tr>
<td>SALGRADE</td>
<td style="text-align:right">65536</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>SAMPLE_DATASET_EVOLVE</td>
<td style="text-align:right">9437184</td>
<td style="text-align:right">458752</td>
</tr>
<tr>
<td>SAMPLE_DATASET_FULLTEXT</td>
<td style="text-align:right">9437184</td>
<td style="text-align:right">458752</td>
</tr>
<tr>
<td>SAMPLE_DATASET_INTRO</td>
<td style="text-align:right">9437184</td>
<td style="text-align:right">458752</td>
</tr>
<tr>
<td>SAMPLE_DATASET_PARTN</td>
<td style="text-align:right">9437184</td>
<td style="text-align:right">458752</td>
</tr>
<tr>
<td>SAMPLE_DATASET_REPOS</td>
<td style="text-align:right">65536</td>
<td style="text-align:right">65536</td>
</tr>
<tr>
<td>SAMPLE_DATASET_XQUERY</td>
<td style="text-align:right">9437184</td>
<td style="text-align:right">458752</td>
</tr>
</tbody>
</table>

</div>

        <footer class="post-footer clearfix">
        <p class="post-tags">
            <span>Tagged:</span>
                <a href="/tags/oracle/">oracle</a>
        </p>
    <div class="share">
    </div>
</footer>

        
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a href="/">My personal blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2021 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="/js/jquery-1.11.3.min.js"></script>
        <script src="/js/jquery.fitvids.js"></script>
        <script src="/js/scripts.js"></script>
    </body>
</html>

